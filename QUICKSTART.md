# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

- Go 1.16 æˆ–æ›´é«˜ç‰ˆæœ¬
- ç»ˆç«¯è®¿é—®æƒé™

## ğŸš€ ä¸‰ç§å¯åŠ¨æ–¹å¼

### æ–¹å¼ 1ï¼šå¼€å‘æ¨¡å¼ï¼ˆæœ€ç®€å•ï¼‰

```bash
# ç›´æ¥è¿è¡Œ
go run .
```

é€‚ç”¨äºï¼šå¿«é€Ÿæµ‹è¯•å’Œå¼€å‘ã€‚

### æ–¹å¼ 2ï¼šå•å¹³å°ç¼–è¯‘è¿è¡Œ

```bash
# ç¼–è¯‘å½“å‰å¹³å°
go build -o filebrowser

# è¿è¡Œ
./filebrowser          # Linux/macOS
# æˆ–
filebrowser.exe        # Windows
```

é€‚ç”¨äºï¼šåœ¨æœ¬åœ°ç¼–è¯‘å’Œè¿è¡Œã€‚

### æ–¹å¼ 3ï¼šäº¤å‰ç¼–è¯‘ï¼ˆæ¨èç”¨äºéƒ¨ç½²ï¼‰

```bash
# 1. ç¼–è¯‘æ‰€æœ‰å¹³å°ï¼ˆä¸€æ¬¡ç¼–è¯‘ 5 ä¸ªå¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼‰
./build.sh

# 2. ä½¿ç”¨æœåŠ¡è„šæœ¬ç®¡ç†
./service.sh start     # å¯åŠ¨æœåŠ¡
./service.sh status    # æŸ¥çœ‹çŠ¶æ€
./service.sh stop      # åœæ­¢æœåŠ¡
```

é€‚ç”¨äºï¼šéƒ¨ç½²åˆ°å¤šä¸ªå¹³å°ã€‚

## ğŸ“¦ ç¼–è¯‘è¾“å‡º

è¿è¡Œ `./build.sh` åï¼Œ`build/` ç›®å½•åŒ…å«ï¼š

| æ–‡ä»¶ | å¹³å° | å¤§å° |
|------|------|------|
| `filebrowser-darwin-amd64` | macOS Intel | ~8.4 MB |
| `filebrowser-darwin-arm64` | macOS M1/M2 | ~7.9 MB |
| `filebrowser-linux-amd64` | Linux x86_64 | ~8.2 MB |
| `filebrowser-linux-arm64` | Linux ARM | ~7.7 MB |
| `filebrowser-windows-amd64.exe` | Windows x86_64 | ~8.4 MB |

è¿˜æœ‰å¯¹åº”çš„å‹ç¼©åŒ…ï¼ˆ.tar.gz å’Œ .zipï¼‰ï¼Œæ–¹ä¾¿åˆ†å‘ã€‚

## ğŸ”§ é…ç½®

ç¼–è¾‘ `config.json`ï¼š

```json
{
  "rootDir": ".",          // è¦æµè§ˆçš„ç›®å½•ï¼ˆä½¿ç”¨ç»å¯¹è·¯å¾„æ›´å®‰å…¨ï¼‰
  "port": 8080,            // ç«¯å£å·
  "staticDir": "./static"  // é™æ€æ–‡ä»¶ç›®å½•
}
```

ç¤ºä¾‹ï¼šæµè§ˆç‰¹å®šç›®å½•

```json
{
  "rootDir": "/home/user/documents",
  "port": 8080,
  "staticDir": "./static"
}
```

## ğŸ® æœåŠ¡ç®¡ç†

### Linux / macOS

```bash
./service.sh start    # å¯åŠ¨
./service.sh stop     # åœæ­¢
./service.sh restart  # é‡å¯
./service.sh status   # çŠ¶æ€ï¼ˆæ˜¾ç¤º PIDã€å†…å­˜ã€è¿è¡Œæ—¶é—´ï¼‰
./service.sh logs     # æŸ¥çœ‹æ—¥å¿—ï¼ˆå®æ—¶ï¼‰
```

### Windows

```cmd
service.bat start
service.bat stop
service.bat restart
service.bat status
service.bat logs
```

### Linux systemdï¼ˆç³»ç»ŸæœåŠ¡ï¼‰

```bash
# å®‰è£…ä¸ºç³»ç»ŸæœåŠ¡
sudo ./install.sh

# ç®¡ç†
sudo systemctl start filebrowser
sudo systemctl stop filebrowser
sudo systemctl enable filebrowser    # å¼€æœºè‡ªå¯
sudo systemctl status filebrowser
```

## ğŸŒ è®¿é—®

æ‰“å¼€æµè§ˆå™¨ï¼š`http://localhost:8080`

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

- **å°æ–‡ä»¶ï¼ˆ<10MBï¼‰**ï¼šä¸€æ¬¡æ€§åŠ è½½ï¼Œé€Ÿåº¦å¿«
- **å¤§æ–‡ä»¶ï¼ˆâ‰¥10MBï¼‰**ï¼šè‡ªåŠ¨åˆ†é¡µï¼Œæ¯é¡µ 1000 è¡Œ
- **è¶…å¤§æ–‡ä»¶**ï¼šæµå¼è¯»å–ï¼Œå†…å­˜å ç”¨ä½ï¼ˆçº¦ 15-20 MBï¼‰

æµ‹è¯•ç»“æœï¼š
- 17.5 MBã€150,000 è¡Œæ–‡ä»¶ â†’ åˆ† 150 é¡µï¼Œæ¯é¡µåŠ è½½ <1 ç§’

## ğŸ”’ å®‰å…¨æ€§

- é˜²æ­¢ç›®å½•éå†æ”»å‡»ï¼ˆ`..`ï¼‰
- é™åˆ¶åœ¨é…ç½®çš„æ ¹ç›®å½•å†…
- æ‰€æœ‰è·¯å¾„éƒ½ç»è¿‡éªŒè¯

## ğŸ’¡ ä½¿ç”¨æç¤º

1. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**ï¼š
   - ä½¿ç”¨ `./build.sh` ç¼–è¯‘
   - ä¿®æ”¹ `config.json` ä¸­çš„ `rootDir` ä¸ºå®é™…ç›®å½•
   - ä½¿ç”¨ `./service.sh start` æˆ– systemd ç®¡ç†æœåŠ¡

2. **é…ç½®ä¸ºç³»ç»ŸæœåŠ¡**ï¼š
   - Linux: ä½¿ç”¨ `sudo ./install.sh`
   - macOS: å¯è€ƒè™‘ä½¿ç”¨ launchdï¼ˆè„šæœ¬ä¸­æœªåŒ…å«ï¼‰
   - Windows: å¯è€ƒè™‘ä½¿ç”¨ NSSMï¼ˆè„šæœ¬ä¸­æœªåŒ…å«ï¼‰

3. **è®¿é—®è¿œç¨‹æœåŠ¡å™¨**ï¼š
   - ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `port`
   - ç¡®ä¿é˜²ç«å¢™å…è®¸è¯¥ç«¯å£
   - ä½¿ç”¨æœåŠ¡å™¨ IP è®¿é—®ï¼š`http://server-ip:8080`

## ğŸ†˜ å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ**
A: ç¼–è¾‘ `config.json`ï¼Œä¿®æ”¹ `"port"` çš„å€¼ã€‚

**Q: å¦‚ä½•æµè§ˆå…¶ä»–ç›®å½•ï¼Ÿ**
A: ç¼–è¾‘ `config.json`ï¼Œä¿®æ”¹ `"rootDir"` ä¸ºç›®æ ‡ç›®å½•è·¯å¾„ã€‚

**Q: æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥æ—¥å¿—ï¼š
```bash
./service.sh logs
# æˆ–
cat filebrowser.log
```

**Q: å¦‚ä½•æŸ¥çœ‹å¤§æ–‡ä»¶ï¼Ÿ**
A: å¤§äº 10MB çš„æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ†é¡µï¼Œæ¯æ¬¡åªåŠ è½½ 1000 è¡Œï¼Œä¸ä¼šå¡é¡¿ã€‚

## ğŸ“š æ›´å¤šä¿¡æ¯

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ `README.md`
